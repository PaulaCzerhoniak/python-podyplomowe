{% extends "base.html" %}

{% block title %}Dodaj klienta{% endblock %}

{% block content %}
<h1>Dodaj klienta</h1>

{% if errors %}
<div style="color: red; margin-bottom: 15px;">
    {% for error in errors %}
    <p>{{ error }}</p>
    {% endfor %}
</div>
{% endif %}

<form method="post" style="max-width: 400px;">
    {% csrf_token %}
    <div style="margin-bottom: 10px;">
        <label for="name">Imię:</label>
        <input type="text" id="name" name="name" value="{{ name }}" required class="form-control">
    </div>
    <div style="margin-bottom: 10px;">
        <label for="phone">Telefon:</label>
        <input type="text" id="phone" name="phone" value="{{ phone }}" required class="form-control">
    </div>
    <div style="margin-bottom: 10px;">
        <label for="type">Typ:</label>
        <select id="type" name="type" class="form-control">
            <option value="regular" {% if type == 'regular' %}selected{% endif %}>Zwykły klient</option>
            <option value="vip" {% if type == 'vip' %}selected{% endif %}>VIP</option>
        </select>
    </div>
    <div style="margin-bottom: 20px;">
        <label for="discount">Rabat VIP (%):</label>
        <input type="number" id="discount" name="discount" value="{{ discount|default:10 }}" min="1" max="50" class="form-control">
        <small>(tylko dla VIP)</small>
    </div>
    <div style="display: flex; gap: 10px;">
        <button type="submit" class="btn btn-success" style="flex: 1;">Dodaj</button>
        <a href="/klienci/" class="btn btn-secondary" style="flex: 1;">Powrót do listy klientów</a>
    </div>
</form>

{% endblock %}
